<script type="text/javascript">
    RED.nodes.registerType('dwdweather',{
        category: 'weather',
        color: '#FFCC66',
        defaults: {
            name: { "value": "" },
            mosmixStation: { "value": null, "required": true, "validate": RED.validators.number() },
            lookAheadHours: { "value": "0", "required": true, "validate": RED.validators.number() },
            repeat: { "value": "0", "validate":function(v) { return (v>=0); } },
        },
        inputs:1,
        outputs:1,
        icon: "feed.png",
        label: function() {
            return this.name||"dwdweather";
        }
    });
</script>

<script type="text/x-red" data-template-name="dwdweather">
    <div class="form-row">
        <label for="node-input-mosmixStation"><i class="icon-tag"></i> <span data-i18n="dwdweather.label.mosmixStation"></span></label>
        <input type="text" id="node-input-mosmixStation" placeholder="mosmixStation">
    </div>
    <div class="form-row" style="padding-left: 10px">
        <span data-i18n="dwdweather.description.mosmixStation"></span><a href="https://www.dwd.de/DE/leistungen/met_verfahren_mosmix/mosmix_stationskatalog.cfg" target="_blank"><span data-i18n="dwdweather.description.mosmixStationLinkText"></span></a>
    </div>
    <div class="form-row">
        <label for="node-input-lookAheadHours"><i class="icon-tag"></i> <span data-i18n="dwdweather.label.lookAheadHours"></span></label>
        <input type="text" id="node-input-lookAheadHours" placeholder="lookAheadHours">
    </div>
    <div class="form-row" style="padding-left: 10px">
        <span data-i18n="dwdweather.description.lookAheadHours"></span>
    </div>
    <div class="form-row">
        <label for="node-input-repeat"><i class="icon-tag"></i> <span data-i18n="dwdweather.label.repeat"></span></label>
        <input type="text" id="node-input-repeat" placeholder="Repeat">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> <span data-i18n="dwdweather.label.name"></span></label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/x-red" data-help-name="dwdweather">
    <p>A node that returns German DWD MOSMIX current / forecasted weather for a given location.</p>
</script>
